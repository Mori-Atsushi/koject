import {
    Provides,
    ViewModelComponent,
    InjectViewModel,
} from '@site/src/components/CodeLink';

# Inject ViewModels into Composable
Koject can inject Android [ViewModels](https://developer.android.com/reference/androidx/lifecycle/ViewModel) into Composable.

:::info LINK

Please also refer the [documentation](/docs/android/viewmodel) for details on ViewModel, such as how to inject ViewModel into Activity / Fragment.

:::

## Setup to use ViewModels in Compose
To inject ViewModels into Composable, add the following dependencies:

```kotlin
dependencies {
    implementation("com.moriatsushi.koject:koject-compose-viewmodel:1.3.0")
}
```

Please also refer to the [Setup document](/docs/setup).

## Using ViewModels in Compose
Specify the <ViewModelComponent/> and <Provides/> annotations when defining a ViewModel.
As with other providing types, constructor injection is available.

```kotlin
@Provides
@ViewModelComponent
class TopViewModel(
    private val userRepository: UserRepository,
    private val contentRepository: ContentRepository,
): ViewModel() {
    /* ... */
}
```

When using ViewModels, use the <InjectViewModel/> Composable function.

```kotlin
@Composable
fun TopPage(
    viewModel: TopViewModel = injectViewModel()
) {
    /* ... */
}
```
