"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[501],{3905:(e,o,t)=>{t.d(o,{Zo:()=>p,kt:()=>k});var n=t(7294);function r(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function a(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?a(Object(t),!0).forEach((function(o){r(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}function s(e,o){if(null==e)return{};var t,n,r=function(e,o){if(null==e)return{};var t,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],o.indexOf(t)>=0||(r[t]=e[t]);return r}(e,o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],o.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=n.createContext({}),c=function(e){var o=n.useContext(l),t=o;return e&&(t="function"==typeof e?e(o):i(i({},o),e)),t},p=function(e){var o=c(e.components);return n.createElement(l.Provider,{value:o},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var o=e.children;return n.createElement(n.Fragment,{},o)}},u=n.forwardRef((function(e,o){var t=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=c(t),u=r,k=m["".concat(l,".").concat(u)]||m[u]||d[u]||a;return t?n.createElement(k,i(i({ref:o},p),{},{components:t})):n.createElement(k,i({ref:o},p))}));function k(e,o){var t=arguments,r=o&&o.mdxType;if("string"==typeof e||r){var a=t.length,i=new Array(a);i[0]=u;var s={};for(var l in o)hasOwnProperty.call(o,l)&&(s[l]=o[l]);s.originalType=e,s[m]="string"==typeof e?e:r,i[1]=s;for(var c=2;c<a;c++)i[c]=t[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}u.displayName="MDXCreateElement"},2599:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var n=t(7462),r=(t(7294),t(3905));const a={sidebar_position:1},i="Setup",s={unversionedId:"setup",id:"setup",title:"Setup",description:"Multiplatform",source:"@site/docs/setup.mdx",sourceDirName:".",slug:"/setup",permalink:"/koject/docs/setup",draft:!1,editUrl:"https://github.com/Mori-Atsushi/koject/tree/main/docs/docs/setup.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"docs",next:{title:"Core",permalink:"/koject/docs/core/"}},l={},c=[{value:"Multiplatform",id:"multiplatform",level:2},{value:"Single platform",id:"single-platform",level:2},{value:"Library module",id:"library-module",level:2},{value:"Multiplatform",id:"multiplatform-1",level:3},{value:"Single platform",id:"single-platform-1",level:3},{value:"Android",id:"android",level:2},{value:"Compomse",id:"compomse",level:2},{value:"Version Catalog",id:"version-catalog",level:2}],p={toc:c},m="wrapper";function d(e){let{components:o,...t}=e;return(0,r.kt)(m,(0,n.Z)({},p,t,{components:o,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"setup"},"Setup"),(0,r.kt)("h2",{id:"multiplatform"},"Multiplatform"),(0,r.kt)("p",null,"You need to enable ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/google/ksp"},"KSP"),".\nAdd according to the platforms you need."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-diff",metastring:'title="build.gradle.kts"',title:'"build.gradle.kts"'},'plugins {\n    kotlin("multiplatform")\n+    id("com.google.devtools.ksp") version "<ksp-version>"\n}\n\nkotlin {\n    android()\n    jvm()\n    js(IR) {\n        nodejs()\n        browser()\n    }\n    ios()\n\n    sourceSets {\n        val commonMain by getting {\n            dependencies {\n+                implementation("com.moriatsushi.koject:koject-core:1.1.0-beta01")\n            }\n        }\n    }\n}\n\ndependencies {\n    // Add it according to your targets.\n+    val processor = "com.moriatsushi.koject:koject-processor-app:1.1.0-beta01"\n+    add("kspAndroid", processor)\n+    add("kspJvm", processor)\n+    add("kspJs", processor)\n+    add("kspIosX64", processor)\n+    add("kspIosArm64", processor)\n}\n')),(0,r.kt)("h2",{id:"single-platform"},"Single platform"),(0,r.kt)("p",null,"Inject can also be used on a single platform."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-diff",metastring:'title="build.gradle.kts"',title:'"build.gradle.kts"'},'plugins {\n    kotlin("<target>")\n+    id("com.google.devtools.ksp") version "<ksp-version>"\n}\n\ndependencies {\n+    implementation("com.moriatsushi.koject:koject-core:1.1.0-beta01")\n+    ksp("com.moriatsushi.koject:koject-processor-app1.1.0-beta01")\n}\n')),(0,r.kt)("h2",{id:"library-module"},"Library module"),(0,r.kt)("p",null,"In the library modules, use ",(0,r.kt)("inlineCode",{parentName:"p"},"koject-processor-lib")," instead of ",(0,r.kt)("inlineCode",{parentName:"p"},"koject-processor-app"),".\nThis prevents the container from being generated in the library module."),(0,r.kt)("h3",{id:"multiplatform-1"},"Multiplatform"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-diff",metastring:'title="build.gradle.kts"',title:'"build.gradle.kts"'},'dependencies {\n    // Add it according to your targets.\n-    val processor = "com.moriatsushi.koject:koject-processor-app:1.1.0-beta01"\n+    val processor = "com.moriatsushi.koject:koject-processor-lib:1.1.0-beta01"\n    add("kspAndroid", processor)\n    add("kspJvm", processor)\n    add("kspJs", processor)\n    add("kspIosX64", processor)\n    add("kspIosArm64", processor)\n}\n')),(0,r.kt)("h3",{id:"single-platform-1"},"Single platform"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-diff",metastring:'title="build.gradle.kts"',title:'"build.gradle.kts"'},'dependencies {\n    implementation("com.moriatsushi.koject:koject-core:1.1.0-beta01")\n-    ksp("com.moriatsushi.koject:koject-processor-app:1.1.0-beta01")\n+    ksp("com.moriatsushi.koject:koject-processor-lib:1.1.0-beta01")\n}\n')),(0,r.kt)("h2",{id:"android"},"Android"),(0,r.kt)("p",null,"For Android applications, additional functionality is available by adding the following packages."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},'dependencies {\n    // Inject ViewModel into Activity\n    implementation("com.moriatsushi.koject:koject-android-activity:1.1.0-beta01")\n    // Inject ViewModel into Fragment\n    implementation("com.moriatsushi.koject:koject-android-fragment:1.1.0-beta01")\n    // ViewModelFactory only\n    implementation("com.moriatsushi.koject:koject-android-viewmodel:1.1.0-beta01")\n}\n')),(0,r.kt)("h2",{id:"compomse"},"Compomse"),(0,r.kt)("p",null,"If you are using ",(0,r.kt)("a",{parentName:"p",href:"https://developer.android.com/jetpack/compose"},"Jetpack Compose")," or ",(0,r.kt)("a",{parentName:"p",href:"https://www.jetbrains.com/lp/compose-mpp/"},"Compose Multiplatform"),", the following package is available."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},'dependencies {\n    // Inject types into Composable\n    implementation("com.moriatsushi.koject:koject-compose-core:1.1.0-beta01")\n}\n')),(0,r.kt)("p",null,"To inject Android ViewModel into Composable, use the following package. "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},'dependencies {\n    // Inject ViewModel into Composable (Android only)\n    implementation("com.moriatsushi.koject:koject-compose-viewmodel:1.1.0-beta01")\n}\n')),(0,r.kt)("h2",{id:"version-catalog"},"Version Catalog"),(0,r.kt)("p",null,"Copy the following snippets if you are using ",(0,r.kt)("a",{parentName:"p",href:"https://docs.gradle.org/current/userguide/platforms.html"},"gradle verion catalog"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml",metastring:'title="libs.versions.toml"',title:'"libs.versions.toml"'},'[versions]\nkoject = "1.1.0-beta01"\n\n[libraries]\nkoject-core = { group = "com.moriatsushi.koject", name = "koject-core", version.ref = "koject" }\nkoject-processor-app = { group = "com.moriatsushi.koject", name = "koject-processor-app", version.ref = "koject" }\nkoject-processor-lib = { group = "com.moriatsushi.koject", name = "koject-processor-lib", version.ref = "koject" }\nkoject-android-activity = { group = "com.moriatsushi.koject", name = "koject-android-activity", version.ref = "koject" }\nkoject-android-fragment = { group = "com.moriatsushi.koject", name = "koject-android-fragment", version.ref = "koject" }\nkoject-android-viewmodel = { group = "com.moriatsushi.koject", name = "koject-android-viewmodel", version.ref = "koject" }\nkoject-compose-core = { group = "com.moriatsushi.koject", name = "koject-compose-core", version.ref = "koject" }\nkoject-compose-viewmodel = { group = "com.moriatsushi.koject", name = "koject-compose-viewmodel", version.ref = "koject" }\n')))}d.isMDXComponent=!0}}]);